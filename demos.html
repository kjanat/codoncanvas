<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mutation Demonstrations - CodonCanvas</title>
    <meta
      name="description"
      content="Interactive demonstrations of DNA mutations: silent, missense, nonsense, and frameshift mutations in CodonCanvas"
    />
    <style>
      * {
        box-sizing: border-box;
        padding: 0;
        margin: 0;
      }

      body {
        min-height: 100vh;
        padding: 2rem 1rem;
        font-family: "Monaco", "Menlo", "Courier New", monospace;
        color: #d4d4d4;
        background: linear-gradient(135deg, #1e1e1e 0%, #2d2d30 100%);
      }

      @media (max-width: 768px) {
        body {
          padding: 1rem 0.5rem;
        }
      }

      .container {
        max-width: 1400px;
        margin: 0 auto;
      }

      header {
        padding: 2rem;
        margin-bottom: 3rem;
        text-align: center;
        background: #252526;
        border: 1px solid #3e3e42;
        border-radius: 12px;
      }

      h1 {
        margin-bottom: 0.5rem;
        font-size: 2.5rem;
        color: #4ec9b0;
      }

      @media (max-width: 768px) {
        header {
          padding: 1.5rem 1rem;
          margin-bottom: 2rem;
        }

        h1 {
          font-size: 1.75rem;
        }
      }

      .subtitle {
        margin-bottom: 1rem;
        font-size: 1.1rem;
        color: #a0a0a0;
      }

      .intro {
        max-width: 800px;
        margin: 0 auto;
        font-size: 0.95rem;
        line-height: 1.6;
        color: #d4d4d4;
      }

      @media (max-width: 768px) {
        .subtitle {
          font-size: 0.95rem;
        }

        .intro {
          font-size: 0.85rem;
        }
      }

      .demo-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(600px, 1fr));
        gap: 2rem;
        margin-bottom: 3rem;
      }

      @media (max-width: 768px) {
        .demo-grid {
          grid-template-columns: 1fr;
          gap: 1.5rem;
        }
      }

      .demo-card {
        padding: 1.5rem;
        background: #252526;
        border: 1px solid #3e3e42;
        border-radius: 12px;
        transition: transform 0.2s, box-shadow 0.2s;
      }

      .demo-card:hover {
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
        transform: translateY(-4px);
      }

      @media (max-width: 768px) {
        .demo-card {
          padding: 1rem;
        }

        .demo-card:hover {
          transform: none;
        }
      }

      .demo-header {
        margin-bottom: 1rem;
      }

      .demo-type {
        display: inline-block;
        padding: 0.4rem 0.8rem;
        margin-bottom: 0.5rem;
        font-size: 0.75rem;
        font-weight: bold;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        border-radius: 6px;
      }

      .demo-type.silent {
        color: #1e1e1e;
        background: #4ec9b0;
      }

      .demo-type.missense {
        color: #1e1e1e;
        background: #ce9178;
      }

      .demo-type.nonsense {
        color: #1e1e1e;
        background: #f48771;
      }

      .demo-type.frameshift {
        color: #1e1e1e;
        background: #c586c0;
      }

      .demo-title {
        margin-bottom: 0.5rem;
        font-size: 1.5rem;
        color: #4ec9b0;
      }

      .demo-description {
        margin-bottom: 1rem;
        font-size: 0.9rem;
        line-height: 1.5;
        color: #a0a0a0;
      }

      .comparison {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1rem;
        margin-bottom: 1rem;
      }

      @media (max-width: 768px) {
        .comparison {
          grid-template-columns: 1fr;
          gap: 1rem;
        }
      }

      .comparison-side {
        padding: 1rem;
        background: #1e1e1e;
        border: 1px solid #3e3e42;
        border-radius: 8px;
      }

      .comparison-label {
        margin-bottom: 0.5rem;
        font-size: 0.75rem;
        font-weight: bold;
        color: #569cd6;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .code-display {
        padding: 0.75rem;
        margin-bottom: 1rem;
        overflow-x: auto;
        font-family: "Monaco", "Menlo", "Courier New", monospace;
        font-size: 0.85rem;
        line-height: 1.8;
        word-break: break-all;
        white-space: pre-wrap;
        background: #0e0e0e;
        border-radius: 4px;
      }

      @media (max-width: 768px) {
        .code-display {
          padding: 0.5rem;
          font-size: 0.75rem;
          line-height: 1.6;
        }
      }

      .codon {
        color: #d4d4d4;
      }

      .codon.start {
        font-weight: bold;
        color: #4ec9b0;
      }

      .codon.stop {
        font-weight: bold;
        color: #f48771;
      }

      .codon.mutated {
        padding: 2px 4px;
        font-weight: bold;
        color: #ffd700;
        background: rgba(255, 215, 0, 0.2);
        border: 1px solid rgba(255, 215, 0, 0.5);
        border-radius: 3px;
      }

      .codon.affected {
        padding: 2px 4px;
        color: #ff9999;
        background: rgba(255, 100, 100, 0.15);
        border-radius: 3px;
      }

      .canvas-container {
        margin-bottom: 0.5rem;
        text-align: center;
      }

      canvas {
        max-width: 100%;
        height: auto;
        background: white;
        border: 1px solid #3e3e42;
        border-radius: 4px;
      }

      @media (max-width: 768px) {
        canvas {
          max-width: 100%;
          height: auto;
        }
      }

      .biological-note {
        padding: 1rem;
        margin-top: 1rem;
        font-size: 0.85rem;
        line-height: 1.6;
        background: #2d2d30;
        border-left: 3px solid #569cd6;
        border-radius: 4px;
      }

      @media (max-width: 768px) {
        .biological-note {
          padding: 0.75rem;
          font-size: 0.8rem;
        }
      }

      .biological-note strong {
        color: #569cd6;
      }

      .impact-indicator {
        display: inline-flex;
        gap: 0.5rem;
        align-items: center;
        margin-top: 0.75rem;
        font-size: 0.85rem;
      }

      .impact-level {
        display: flex;
        gap: 4px;
      }

      .impact-dot {
        width: 12px;
        height: 12px;
        background: #3e3e42;
        border-radius: 50%;
      }

      .impact-dot.active {
        background: #4ec9b0;
        box-shadow: 0 0 8px rgba(78, 201, 176, 0.5);
      }

      .impact-dot.warning {
        background: #ce9178;
        box-shadow: 0 0 8px rgba(206, 145, 120, 0.5);
      }

      .impact-dot.danger {
        background: #f48771;
        box-shadow: 0 0 8px rgba(244, 135, 113, 0.5);
      }

      footer {
        padding: 2rem;
        margin-top: 3rem;
        font-size: 0.9rem;
        color: #a0a0a0;
        text-align: center;
      }

      footer a {
        color: #4ec9b0;
        text-decoration: none;
      }

      footer a:hover {
        text-decoration: underline;
      }

      .cta-button {
        display: inline-block;
        padding: 0.75rem 1.5rem;
        margin-top: 1.5rem;
        font-weight: bold;
        color: white;
        text-decoration: none;
        background: #0e639c;
        border-radius: 6px;
        transition: background 0.2s;
      }

      .cta-button:hover {
        background: #1177bb;
      }

      @media (max-width: 768px) {
        .cta-button {
          display: block;
          max-width: 280px;
          margin: 1.5rem auto;
          text-align: center;
        }
      }

      /* Accessibility */
      *:focus {
        outline: 2px solid #007acc;
        outline-offset: 2px;
      }

      .skip-link {
        position: absolute;
        top: -40px;
        left: 0;
        z-index: 100;
        padding: 8px;
        color: white;
        text-decoration: none;
        background: #007acc;
      }

      .skip-link:focus {
        top: 0;
      }
    </style>
  </head>
  <body>
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <div class="container">
      <header role="banner">
        <h1>ðŸ§¬ Mutation Demonstrations</h1>
        <div class="subtitle">
          See How DNA Code Changes Affect Visual Output
        </div>
        <div class="intro">
          CodonCanvas uses DNA-like code to create visual art. Just like in
          biology, small changes (mutations) can have dramatic effects. Explore
          four fundamental mutation types and their visual impacts below.
        </div>
        <a href="index.html" class="cta-button">Try the Playground â†’</a>
      </header>

      <main id="main-content">
        <div class="demo-grid">
          <!-- Silent Mutation Demo -->
          <article class="demo-card">
            <div class="demo-header">
              <span class="demo-type silent">Silent Mutation</span>
              <h2 class="demo-title">Silent Mutation</h2>
              <p class="demo-description">
                Changes a codon to a synonymous variant that codes for the same
                instruction. Like swapping synonyms in a sentenceâ€”the meaning
                stays the same.
              </p>
            </div>

            <div class="comparison">
              <div class="comparison-side">
                <div class="comparison-label">Original</div>
                <div class="code-display" id="silent-original"></div>
                <div class="canvas-container">
                  <canvas
                    id="canvas-silent-original"
                    width="200"
                    height="200"
                    role="img"
                    aria-label="Original genome output"
                  ></canvas>
                </div>
              </div>
              <div class="comparison-side">
                <div class="comparison-label">After Silent Mutation</div>
                <div class="code-display" id="silent-mutated"></div>
                <div class="canvas-container">
                  <canvas
                    id="canvas-silent-mutated"
                    width="200"
                    height="200"
                    role="img"
                    aria-label="Mutated genome output - should be identical"
                  ></canvas>
                </div>
              </div>
            </div>

            <div class="biological-note">
              <strong>ðŸ§¬ Biological Parallel:</strong> In DNA, multiple codons
              can code for the same amino acid due to genetic redundancy. For
              example, both GCU and GCC code for alanine. This redundancy
              protects against harmful mutations.
              <div class="impact-indicator">
                <span>Phenotype Impact:</span>
                <div class="impact-level">
                  <div class="impact-dot active"></div>
                  <div class="impact-dot"></div>
                  <div class="impact-dot"></div>
                </div>
                <span style="color: #4ec9b0">None</span>
              </div>
            </div>
          </article>

          <!-- Missense Mutation Demo -->
          <article class="demo-card">
            <div class="demo-header">
              <span class="demo-type missense">Missense Mutation</span>
              <h2 class="demo-title">Missense Mutation</h2>
              <p class="demo-description">
                Changes a codon to code for a different instruction. This alters
                the function while maintaining the overall program structure.
              </p>
            </div>

            <div class="comparison">
              <div class="comparison-side">
                <div class="comparison-label">Original</div>
                <div class="code-display" id="missense-original"></div>
                <div class="canvas-container">
                  <canvas
                    id="canvas-missense-original"
                    width="200"
                    height="200"
                    role="img"
                    aria-label="Original genome output"
                  ></canvas>
                </div>
              </div>
              <div class="comparison-side">
                <div class="comparison-label">After Missense Mutation</div>
                <div class="code-display" id="missense-mutated"></div>
                <div class="canvas-container">
                  <canvas
                    id="canvas-missense-mutated"
                    width="200"
                    height="200"
                    role="img"
                    aria-label="Mutated genome output - different shape"
                  ></canvas>
                </div>
              </div>
            </div>

            <div class="biological-note">
              <strong>ðŸ§¬ Biological Parallel:</strong> Missense mutations change
              one amino acid to another in a protein. Sickle cell disease is
              caused by a single missense mutation (glutamic acid â†’ valine),
              demonstrating how one change can have significant effects.
              <div class="impact-indicator">
                <span>Phenotype Impact:</span>
                <div class="impact-level">
                  <div class="impact-dot warning"></div>
                  <div class="impact-dot warning"></div>
                  <div class="impact-dot"></div>
                </div>
                <span style="color: #ce9178">Moderate</span>
              </div>
            </div>
          </article>

          <!-- Nonsense Mutation Demo -->
          <article class="demo-card">
            <div class="demo-header">
              <span class="demo-type nonsense">Nonsense Mutation</span>
              <h2 class="demo-title">Nonsense Mutation</h2>
              <p class="demo-description">
                Introduces an early STOP codon, terminating the program
                prematurely. Everything after the STOP is never executed.
              </p>
            </div>

            <div class="comparison">
              <div class="comparison-side">
                <div class="comparison-label">Original</div>
                <div class="code-display" id="nonsense-original"></div>
                <div class="canvas-container">
                  <canvas
                    id="canvas-nonsense-original"
                    width="200"
                    height="200"
                    role="img"
                    aria-label="Original genome output"
                  ></canvas>
                </div>
              </div>
              <div class="comparison-side">
                <div class="comparison-label">After Nonsense Mutation</div>
                <div class="code-display" id="nonsense-mutated"></div>
                <div class="canvas-container">
                  <canvas
                    id="canvas-nonsense-mutated"
                    width="200"
                    height="200"
                    role="img"
                    aria-label="Mutated genome output - truncated"
                  ></canvas>
                </div>
              </div>
            </div>

            <div class="biological-note">
              <strong>ðŸ§¬ Biological Parallel:</strong> Nonsense mutations create
              premature stop codons in genes, producing truncated (shortened)
              proteins. Many genetic diseases, including some forms of muscular
              dystrophy and cystic fibrosis, result from nonsense mutations.
              <div class="impact-indicator">
                <span>Phenotype Impact:</span>
                <div class="impact-level">
                  <div class="impact-dot danger"></div>
                  <div class="impact-dot danger"></div>
                  <div class="impact-dot danger"></div>
                </div>
                <span style="color: #f48771">Severe</span>
              </div>
            </div>
          </article>

          <!-- Frameshift Mutation Demo -->
          <article class="demo-card">
            <div class="demo-header">
              <span class="demo-type frameshift">Frameshift Mutation</span>
              <h2 class="demo-title">Frameshift Mutation</h2>
              <p class="demo-description">
                Inserts or deletes bases (not in multiples of 3), shifting the
                reading frame. All codons downstream are completely scrambled.
              </p>
            </div>

            <div class="comparison">
              <div class="comparison-side">
                <div class="comparison-label">Original</div>
                <div class="code-display" id="frameshift-original"></div>
                <div class="canvas-container">
                  <canvas
                    id="canvas-frameshift-original"
                    width="200"
                    height="200"
                    role="img"
                    aria-label="Original genome output"
                  ></canvas>
                </div>
              </div>
              <div class="comparison-side">
                <div class="comparison-label">After Frameshift</div>
                <div class="code-display" id="frameshift-mutated"></div>
                <div class="canvas-container">
                  <canvas
                    id="canvas-frameshift-mutated"
                    width="200"
                    height="200"
                    role="img"
                    aria-label="Mutated genome output - completely scrambled"
                  ></canvas>
                </div>
              </div>
            </div>

            <div class="biological-note">
              <strong>ðŸ§¬ Biological Parallel:</strong> Frameshift mutations are
              among the most severe because they alter the reading frame of ALL
              downstream codons. Think of it like removing a letter from a
              sentence: "THE CAT ATE" â†’ "TH ECA TAT E" (completely unreadable).
              Many cancers involve frameshift mutations.
              <div class="impact-indicator">
                <span>Phenotype Impact:</span>
                <div class="impact-level">
                  <div class="impact-dot danger"></div>
                  <div class="impact-dot danger"></div>
                  <div class="impact-dot danger"></div>
                </div>
                <span style="color: #c586c0">Catastrophic</span>
              </div>
            </div>
          </article>
        </div>
      </main>

      <section style="margin: 3rem 0; padding: 2rem; background: #252526; border-radius: 8px; border: 1px solid #3e3e42">
        <div id="shareContainer"></div>
      </section>

      <footer role="contentinfo">
        <p>
          ðŸ§¬ Part of the <a href="index.html">CodonCanvas</a> Educational
          Platform
        </p>
        <p style="margin-top: 0.5rem; font-size: 0.85rem">
          DNA-inspired visual programming for learning genetic concepts through
          code
        </p>
        <a href="index.html" class="cta-button">Open Playground</a>
      </footer>
    </div>

    <script type="module" src="/src/demos.ts"></script>
  </body>
</html>
